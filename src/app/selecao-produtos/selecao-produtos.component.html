<p-card class="content">
  <div class="p-col-8 input">
    <p-autoComplete
      [suggestions]="produtos"
      (completeMethod)="buscarProdutos($event)"
      [size]="60"
      delay="400"
      minLength="3"
      field="descricao"
      placeholder="Busque os produtos para enviar"
    >
    </p-autoComplete>
  </div>
  <div class="p-col-12">
    <p-dataView [value]="produtos">
      <p-header class="p-grid p-justify-end">
        <div class="p-col-2">Cod. Barras</div>
        <div class="p-col-2">NCM</div>
        <div class="p-col-2">Descrição</div>
        <div class="p-col-1">Qtd Atual</div>
        <div class="p-col-2">Preço de Venda</div>
        <div class="p-col-2">Vigência Promoção</div>
        <div class="p-col-1">Ativar?</div>
      </p-header>

      <ng-template let-produto pTemplate="listItem">
        <p-card class="p-col-12 p-nogutter">
          <div class="p-grid p-justify-around p-align-baseline">
            <div class="p-col-2">
              {{ produto.codBarra }}
            </div>
            <div class="p-col-2">
              {{ produto.codNcm }}
            </div>
            <div class="p-col-2">
              {{ produto.descricao }}
            </div>
            <div class="p-col-1">
              {{ produto.qtdAtual }}
            </div>
            <div class="p-col-2">
              {{ produto.prcVenda | currencyCustom }}
            </div>
            <div class="p-col-2">
              <p-calendar
                dateFormat="dd/mm/yy"
                [locale]="pt"
                showButtonBar="true"
                selectionMode="range"
                [(ngModel)]="produto.datas"
              ></p-calendar>
            </div>
            <div class="p-grid p-justify-start p-col-1">
              <p-toggleButton
                onLabel="Sim"
                offLabel="Não"
                [(ngModel)]="produto.ativo"
              ></p-toggleButton>
            </div>
          </div>
        </p-card>
      </ng-template>
    </p-dataView>
  </div>
  <button
    pButton
    [disabled]="produtos.length === 0"
    label="Enviar"
    (click)="enviarProdutos()"
  ></button>
</p-card>
